<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cap√≠tulo 10: Frontend de Facturas - ClutchPay</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>üí∞ ClutchPay</h1>
            <p class="subtitle">Cap√≠tulo 10: Frontend de Facturas</p>
        </div>
    </header>

    <nav class="main-nav">
        <div class="container">
            <a href="index.html">Inicio</a>
            <a href="capitulo10.html" class="active">Cap√≠tulo 10</a>
        </div>
    </nav>

    <main class="container">
        <div class="back-nav">
            <a href="index.html" class="back-btn">‚Üê Volver al √≠ndice</a>
        </div>

        <div class="chapter-content">
            <div class="chapter-header">
                <h1>Cap√≠tulo 10: Frontend de Facturas</h1>
            </div>

            <div class="video-embed">
                <iframe
                    src="https://drive.google.com/file/d/151mDDEO7EZVTxDuPrB5VJaKwplLPzhFu/preview"
                    title="Video tutorial - Cap√≠tulo 10"
                    allow="autoplay; encrypted-media"
                    allowfullscreen
                ></iframe>
            </div>

            <div class="content-section">
                <h2>üìñ Contenido Completo</h2>
                <div class="markdown-body">
                    <h1>Cambios Frontend para Gesti√≥n de Facturas</h1>
                    <p>En este tutorial se har√°n varios cambios a archivos previamente establecidos para poder dotar de una mayor modularidad a la aplicaci√≥n y dotarla tambi√©n de nuevas funciones como el modo claro o oscuro de css. Adem√°s se incorporar√°n los cambios para poder crear facturas.</p>
                    
                    <h2>1. Archivos modificados / a√±adidos</h2>
                    <ul>
                        <li><strong>public/JS/dashboard/core.js</strong>: N√∫cleo del dashboard. Maneja inicializaci√≥n, ruteo interno entre m√≥dulos, y provee una API simple para los m√≥dulos (mostrar modales, manejar sesi√≥n, fetch helpers con <code>credentials: 'include'</code>).</li>
                        <li><strong>public/JS/dashboard/invoices.js</strong>: L√≥gica de interfaz para listado, creaci√≥n, edici√≥n y detalle de facturas. Consume los endpoints <code>/api/invoices</code> y <code>/api/invoices/:id</code>.</li>
                        <li><strong>public/JS/dashboard/profile.js</strong>: Gesti√≥n del perfil de usuario en el dashboard.</li>
                        <li><strong>public/JS/dashboard/contacts.js</strong>: Manejo de la lista de contactos y su relaci√≥n con facturas (selecci√≥n de deudor/emisor).</li>
                        <li><strong>public/JS/dashboard/mobile.js</strong>: Adaptaciones y manejo de eventos para vistas m√≥viles del dashboard.</li>
                        <li><strong>public/JS/notifications.js</strong>: Sistema de toasts/alertas para feedback de acciones (√©xito/error/aviso), usado por todos los m√≥dulos.</li>
                        <li><strong>public/JS/theme.js</strong>: Manejador de tema (light/dark), persiste la preferencia en <code>localStorage</code> y aplica <code>data-theme</code> al <code>documentElement</code>.</li>
                        <li><strong>public/main.html</strong> / <strong>public/index.html</strong>: Actualizados para cargar los nuevos m√≥dulos y respetar carga condicional de scripts.</li>
                        <li><strong>public/JS/validaciones.js</strong>: Actualizaciones del cliente para validar formularios antes de enviar (coincide con zod/validaciones del servidor pero orientado a UX inmediata).</li>
                    </ul>
                    
                    <h2>2-10. Descripci√≥n de M√≥dulos</h2>
                    <ul>
                        <li><strong>core.js</strong>: Inicializar la aplicaci√≥n, registrar m√≥dulos, proveer fetch wrapper y utilidades compartidas como paginaci√≥n y conversi√≥n de archivos a base64.</li>
                        <li><strong>invoices.js</strong>: Listados con filtros, formularios de creaci√≥n/edici√≥n, conversi√≥n de PDFs a base64, vista de detalle y acciones del recurso (crear, actualizar, cancelar).</li>
                        <li><strong>profile.js</strong>: Mostrar y editar datos del usuario, integraci√≥n con avatar/imagen si aplica.</li>
                        <li><strong>contacts.js</strong>: CRUD de contactos, b√∫squeda, paginaci√≥n y selecci√≥n de debtor/issuer para facturas.</li>
                        <li><strong>mobile.js</strong>: Manejo de men√∫s, colapsables y navegaci√≥n simplificada para pantallas peque√±as, optimizaci√≥n para controles t√°ctiles.</li>
                        <li><strong>notifications.js</strong>: API simple para mostrar mensajes (success, error, info), control de queue de notificaciones y accesibilidad.</li>
                        <li><strong>theme.js</strong>: Funciones getTheme() y setTheme(), persistencia en localStorage, respetar preferencia del sistema y aplicar data-theme con transiciones suaves.</li>
                        <li><strong>validaciones.js</strong>: Reglas esenciales (required, formatos num√©ricos, rangos, validaci√≥n de fechas), mensajes coherentes con reglas del servidor, helpers para normalizar campos.</li>
                        <li><strong>main.html / index.html</strong>: Inclusi√≥n y orden de carga de scripts modulares, marcas para puntos de montaje de m√≥dulos, toggles de tema/men√∫, carga condicional en mobile.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="chapter-nav">
            <div class="prev">
                <a href="capitulo9.html">
                    <span class="nav-label">‚Üê Anterior</span>
                    <span class="nav-title">Cap√≠tulo 9: Backend de Facturas</span>
                </a>
            </div>
            <div class="next">
                <a href="capitulo11.html">
                    <span class="nav-label">Siguiente ‚Üí</span>
                    <span class="nav-title">Cap√≠tulo 11: Pagos con Stripe</span>
                </a>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>üìö Material educativo para aprender desarrollo full-stack moderno</p>
            <p>Basado en el proyecto <a href="https://github.com/GCousido/ClutchPay" target="_blank">ClutchPay</a></p>
        </div>
    </footer>
</body>
</html>